---
import Layout from '../layouts/Layout.astro';
import Card from '../components/Card.astro';


interface Anime {
  animeId: string;
  episodeId: string;
  animeTitle: string;
  episodeNum: string;
  subOrDub: string;
  animeImg: string;
  episodeUrl: string;
}
// const response = await fetch('https://jsonplaceholder.typicode.com/todos?_limit=5')
// const list = await response.json()
// console.log(list)
const response = await fetch('https://gogoanime.consumet.stream/recent-release?type=1');
const list: { list: Anime[] } = await response.json();
const data = list

console.log(data);
---

<Layout title="Mannn Stream">
  <main>
    {
      data && data.map(item => (
        <Card image={item.animeImg} title={item.animeTitle} eps={item.episodeNum} epsUrl={item.episodeUrl}/>
      ))
    }
  </main>
</Layout>

<style>
	main {
		justify-content: center;
		align-items: center;
		gap: 20px;
		display: flex;
		flex-direction: row;
		flex-wrap: wrap;
	}
</style>
